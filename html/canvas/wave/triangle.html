<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>正弦波纹</title>
</head>
<body>
  <div>
    <canvas id='canvas_1' width='400px' height='300px'></canvas>
  </div>
  <script>
    const canvas1 = document.getElementById('canvas_1')
    const ctx = canvas1.getContext('2d')
    const width = 400
    let step = 0.1
    function draw () {
      console.log(11)
      ctx.clearRect(0,0, canvas1.width, canvas1.height)
      const posi = []
      step +=0.1
      for (let x = 0; x <= width; x++) {
        const radians = x / width * Math.PI * 2
        const scale = (Math.sin(radians - Math.PI * 0.5) + 1) * 0.5
        // const y = Math.sin(x * 0.2 + 1) * scale * 50
        const y = Math.sin(x * 0.02 + step) * 20
        posi.push([x, y])
      }
      ctx.beginPath()
      // ctx.moveTo(50, 50)
      posi.forEach(item => {
        ctx.lineTo(50+item[0], 50+item[1])
      })
      // ctx.closePath()
      ctx.strokeStyle = 'red'
      ctx.stroke()
      window.requestAnimationFrame(draw)
    }
  
    draw()
  </script>
</body>
</html>